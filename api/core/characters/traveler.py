from core.basic.skill import 技能
from core.basic.character import Character
from core.basic.skill import 主动技能, 被动技能


class 猛系技能(主动技能):
    闪CDR = 1.0
    猛倍率 = 1.0
    形态 = ["猛击", "普通"]

    def 形态变更(self, 形态, char):
        if (形态 == '' or 形态 not in self.形态) and len(self.形态) > 0:
            形态 = self.形态[0]
        if 形态 == "普通":
            self.猛倍率 = 1.0
            self.闪CDR = 1.0
        if 形态 == "猛击":
            self.猛倍率 = char.get_skill_by_name("装载：猛击").猛加成倍率()
            self.闪CDR = char.get_skill_by_name("装载：闪攻").闪加成CDR()

    def 等效CD(self, **argv):
        # 武器类型 输出类型 额外CDR 手搓收益 恢复
        武器类型 = argv.get('武器类型', '')
        输出类型 = argv.get('输出类型', '')
        额外CDR = argv.get('额外CDR', 1.0)
        # 手搓收益 = argv.get('手搓收益', 1.0)
        面板显示 = argv.get('面板显示', False)
        额外恢复 = argv.get('额外恢复', 0)

        cdr = self.手搓CD()
        形态 = argv.get('形态', '')
        char = argv.get('char', {})
        self.形态变更(形态, char)

        return round(max(self.CD * self.CDR * self.闪CDR * 额外CDR / ((self.恢复 + 额外恢复) if not 面板显示 else 1) * (self.武器CD系数(武器类型, 输出类型) - (cdr if not 面板显示 else 0)), self.CD * 0.3)*self.CDR_O, 1)

    def 等效百分比(self, **argv):
        return super().等效百分比(**argv)*self.猛倍率


class 技能0(主动技能):  # 基础精通
    名称 = '基础精通'
    倍率 = 1.0

    所在等级 = 1
    等级上限 = 200
    学习间隔 = 1
    等级精通 = 110

    是否主动 = 0

    关联技能 = ['迷雾箭雨']

    TP成长 = 0.10
    TP上限 = 5  # 基础精通

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(self.倍率 * (0.463 + 0.089 * self.等级) * self.TP加成(), 5)


class 技能1(主动技能):
    名称 = "迷雾箭雨"
    所在等级 = 15
    等级上限 = 1
    学习间隔 = 2
    等级精通 = 1
    CD = 4
    MP = [29, 29]
    无色消耗 = 0
    data0 = [0, 446]
    hit0 = 3
    TP成长 = 0
    TP上限 = 1

    def TP加成(self):
        if self.TP等级 > 0:
            return 3 * 0.4
        else:
            return 1


class 技能2(主动技能):
    名称 = "驱虫烈火"
    所在等级 = 20
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 7
    MP = [68, 401]
    无色消耗 = 0
    data0 = [0, 3127, 3445, 3762, 4079, 4397, 4714, 5031, 5349, 5666, 5983, 6301, 6618, 6935, 7253, 7570, 7887, 8205, 8522, 8839, 9157, 9474, 9792, 10108, 10426, 10744, 11060, 11378, 11696, 12012, 12330, 12648, 12964, 13282, 13600, 13916, 14234, 14552, 14868, 15186, 15504, 15820, 16138, 16455, 16772, 17090, 17407, 17724, 18042, 18359, 18677, 18994, 19311, 19629, 19946, 20263, 20581, 20898, 21215, 21533, 21850, 22167, 22485, 22801, 23119, 23437, 23753, 24071, 24389, 24705, 25023]
    hit0 = 1
    data1 = [0, 782, 861, 940, 1020, 1099, 1178, 1257, 1336, 1416, 1495, 1575, 1654, 1734, 1813, 1892, 1972, 2051, 2130, 2209, 2288, 2368, 2447, 2527, 2606, 2686, 2765, 2844, 2924, 3002, 3082, 3161, 3241, 3320, 3399, 3479, 3558, 3638, 3717, 3797, 3876, 3954, 4034, 4113, 4193, 4272, 4351, 4431, 4510, 4590, 4669, 4749, 4827, 4906, 4986, 5065, 5145, 5224, 5303, 5383, 5462, 5542, 5621, 5700, 5779, 5858, 5938, 6017, 6097, 6176, 6256]
    hit1 = 1
    TP成长 = 0.1
    TP上限 = 7


class 技能3(被动技能):
    名称 = '玄机弓精通'
    所在等级 = 20
    等级上限 = 20
    学习间隔 = 3
    等级精通 = 10

    # 物理攻击力加成
    def 物理攻击力倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.22 + 0.02 * self.等级, 5)


class 技能4(主动技能):
    名称 = "三重加速"
    所在等级 = 25
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 6
    MP = [55, 325]
    无色消耗 = 0
    data0 = [0, 472, 520, 568, 617, 664, 713, 760, 808, 856, 904, 951, 1000, 1048, 1096, 1145, 1192, 1240, 1288, 1336, 1383, 1431, 1479, 1528, 1576, 1624, 1672, 1719, 1768, 1815, 1863, 1911, 1959, 2007, 2056, 2104, 2151, 2200, 2247, 2295, 2343, 2391, 2438, 2488, 2535, 2583, 2632, 2679, 2727, 2775, 2823, 2870, 2920, 2967, 3015, 3062, 3111, 3158, 3206, 3255, 3302, 3350, 3399, 3447, 3494, 3543, 3590, 3638, 3686, 3734, 3782]
    hit0 = 3
    data1 = [0, 710, 781, 853, 925, 996, 1068, 1140, 1212, 1284, 1356, 1428, 1500, 1571, 1644, 1716, 1788, 1860, 1931, 2003, 2076, 2148, 2220, 2292, 2363, 2435, 2507, 2580, 2652, 2723, 2795, 2867, 2939, 3012, 3084, 3155, 3227, 3299, 3371, 3444, 3515, 3587, 3659, 3731, 3803, 3874, 3947, 4019, 4091, 4163, 4235, 4306, 4379, 4451, 4523, 4595, 4666, 4738, 4810, 4883, 4955, 5027, 5098, 5170, 5242, 5315, 5387, 5458, 5530, 5601, 5673]
    hit1 = 3
    data2 = [0, 237, 260, 284, 307, 332, 356, 379, 403, 428, 451, 475, 499, 523, 548, 572, 596, 620, 644, 667, 692, 716, 739, 763, 788, 811, 835, 860, 883, 907, 931, 955, 979, 1004, 1027, 1052, 1076, 1099, 1124, 1148, 1171, 1195, 1220, 1243, 1267, 1291, 1315, 1339, 1363, 1387, 1411, 1435, 1459, 1484, 1508, 1531, 1555, 1580, 1603, 1627, 1652, 1675, 1699, 1723, 1747, 1771, 1795, 1818, 1843, 1866, 1890]
    hit2 = 3
    data3 = [0, 472, 520, 568, 617, 664, 713, 760, 808, 856, 904, 951, 1000, 1048, 1096, 1145, 1192, 1240, 1288, 1336, 1383, 1431, 1479, 1528, 1576, 1624, 1672, 1719, 1768, 1815, 1863, 1911, 1959, 2007, 2056, 2104, 2151, 2200, 2247, 2295, 2343, 2391, 2438, 2488, 2535, 2583, 2632, 2679, 2727, 2775, 2823, 2870, 2920, 2967, 3015, 3062, 3111, 3158, 3206, 3255, 3302, 3350, 3399, 3447, 3494, 3543, 3590, 3638, 3686, 3734, 3782]
    hit3 = 3
    TP成长 = 0.1
    TP上限 = 7


class 技能5(主动技能):
    名称 = "急流"
    所在等级 = 30
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 8
    MP = [82, 486]
    无色消耗 = 0
    data0 = [0, 466, 514, 560, 608, 656, 702, 750, 797, 844, 892, 939, 986, 1034, 1081, 1128, 1175, 1223, 1270, 1317, 1365, 1412, 1459, 1507, 1554, 1601, 1649, 1695, 1743, 1791, 1838, 1885, 1933, 1980, 2027, 2075, 2122, 2169, 2216, 2264, 2311, 2358, 2406, 2453, 2500, 2548, 2595, 2642, 2690, 2736, 2784, 2832, 2878, 2926, 2974, 3020, 3068, 3116, 3162, 3210, 3257, 3304, 3352, 3399, 3447, 3494, 3541, 3589, 3636, 3683, 3731]
    hit0 = 4
    data1 = [0, 3949, 4350, 4751, 5152, 5552, 5953, 6354, 6754, 7156, 7556, 7956, 8358, 8758, 9159, 9560, 9960, 10361, 10762, 11163, 11563, 11965, 12365, 12765, 13167, 13567, 13968, 14369, 14769, 15170, 15570, 15972, 16372, 16772, 17174, 17574, 17975, 18376, 18776, 19177, 19578, 19979, 20379, 20780, 21181, 21581, 21983, 22383, 22783, 23185, 23585, 23986, 24387, 24787, 25188, 25589, 25990, 26390, 26791, 27192, 27592, 27994, 28394, 28794, 29196, 29596, 29997, 30398, 30798, 31199, 31600]
    hit1 = 1
    TP成长 = 0.1
    TP上限 = 7


class 技能6(主动技能):
    名称 = "细雨"
    所在等级 = 30
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 7
    MP = [72, 426]
    无色消耗 = 0
    data0 = [0, 5614, 6182, 6752, 7322, 7891, 8460, 9030, 9600, 10169, 10739, 11309, 11878, 12447, 13017, 13586, 14155, 14725, 15295, 15865, 16434, 17004, 17573, 18142, 18712, 19281, 19850, 20420, 20990, 21560, 22129, 22698, 23268, 23837, 24407, 24976, 25546, 26115, 26685, 27255, 27824, 28393, 28963, 29533, 30101, 30671, 31241, 31810, 32380, 32950, 33520, 34088, 34658, 35228, 35796, 36366, 36936, 37504, 38075, 38645, 39215, 39783, 40353, 40923, 41491, 42061, 42631, 43200, 43770, 44340, 44910]
    hit0 = 1
    TP成长 = 0.1
    TP上限 = 7


class 技能7(主动技能):
    名称 = "高原雾花"
    所在等级 = 35
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 12
    MP = [146, 865]
    无色消耗 = 0
    data0 = [0, 1130, 1245, 1359, 1475, 1589, 1704, 1818, 1933, 2047, 2163, 2277, 2392, 2506, 2621, 2736, 2851, 2965, 3080, 3194, 3309, 3424, 3539, 3653, 3768, 3882, 3998, 4112, 4227, 4341, 4456, 4570, 4686, 4800, 4915, 5029, 5144, 5259, 5374, 5488, 5603, 5717, 5833, 5947, 6062, 6176, 6291, 6405, 6521, 6635, 6750, 6864, 6979, 7094, 7209, 7323, 7438, 7552, 7667, 7782, 7897, 8011, 8126, 8240, 8356, 8470, 8585, 8699, 8814, 8928, 9044]
    hit0 = 8
    TP成长 = 0.1
    TP上限 = 5


class 技能8(猛系技能):
    名称 = "装置驱动"
    所在等级 = 35
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 15
    MP = [183, 1081]
    无色消耗 = 1
    data0 = [0, 11191, 12327, 13462, 14597, 15732, 16867, 18004, 19139, 20274, 21409, 22544, 23681, 24816, 25951, 27086, 28221, 29357, 30493, 31628, 32763, 33898, 35033, 36170, 37305, 38440, 39575, 40710, 41847, 42982, 44117, 45252, 46387, 47522, 48659, 49794, 50929, 52064, 53199, 54336, 55471, 56606, 57741, 58876, 60012, 61148, 62283, 63418, 64553, 65689, 66825, 67960, 69095, 70230, 71365, 72501, 73637, 74772, 75907, 77042, 78178, 79314, 80449, 81584, 82719, 83855, 84990, 86126, 87261, 88396, 89532]
    hit0 = 1
    TP成长 = 0.1
    TP上限 = 5

    是否有护石 = 1

    def 装备护石(self, char):
        self.倍率 *= 1.37


class 技能9(主动技能):
    名称 = '旅行者的直觉'
    所在等级 = 35
    等级上限 = 20
    学习间隔 = 2
    等级精通 = 10
    是否有伤害 = 0

    # 物理攻击力加成
    def 物理攻击力倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.0 + 0.02 * self.等级, 5)


class 技能10(猛系技能):
    名称 = "浓雾暴雨"
    所在等级 = 40
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 18
    MP = [254, 1502]
    无色消耗 = 1
    data0 = [0, 2214, 2439, 2663, 2888, 3113, 3338, 3562, 3787, 4011, 4237, 4462, 4686, 4911, 5135, 5361, 5586, 5811, 6035, 6260, 6484, 6710, 6934, 7159, 7383, 7608, 7832, 8058, 8282, 8507, 8731, 8956, 9182, 9406, 9631, 9855, 10080, 10304, 10530, 10754, 10979, 11203, 11428, 11652, 11878, 12102, 12327, 12551, 12776, 13001, 13226, 13450, 13675, 13899, 14124, 14349, 14574, 14798, 15023, 15247, 15473, 15698, 15922, 16147, 16371, 16596, 16821, 17046, 17270, 17495, 17720]
    hit0 = 6
    TP成长 = 0.1
    TP上限 = 5

    是否有护石 = 1

    def 装备护石(self, char):
        self.倍率 *= 1.34
        self.CDR *= 0.9


class 技能11(主动技能):
    名称 = "装载：猛击"
    所在等级 = 40
    等级上限 = 1
    学习间隔 = 3
    等级精通 = 1
    CD = 15
    MP = [68, 68]
    无色消耗 = 0
    猛倍率 = 1.1

    def 猛加成倍率(self):
        if self.等级 > 0:
            return self.猛倍率
        else:
            return 1


class 技能12(被动技能):
    名称 = "装载：闪攻"
    所在等级 = 40
    等级上限 = 1
    学习间隔 = 3
    等级精通 = 1
    闪CDR = 0.9

    def 闪加成CDR(self):
        if self.等级 > 0:
            return self.闪CDR
        else:
            return 1


class 技能13(主动技能):
    名称 = "神雾兵仗·流星"
    所在等级 = 45
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 10
    MP = [109, 643]
    无色消耗 = 1
    data0 = [0, 7832, 8626, 9421, 10216, 11011, 11805, 12599, 13394, 14189, 14983, 15778, 16573, 17368, 18161, 18956, 19751, 20546, 21340, 22135, 22930, 23724, 24518, 25313, 26108, 26903, 27697, 28491, 29286, 30081, 30875, 31670, 32465, 33260, 34053, 34848, 35643, 36438, 37232, 38027, 38821, 39616, 40410, 41205, 42000, 42795, 43589, 44383, 45178, 45973, 46767, 47562, 48357, 49152, 49945, 50740, 51535, 52330, 53124, 53919, 54713, 55508, 56302, 57097, 57892, 58687, 59481, 60275, 61070, 61865, 62659]
    hit0 = 1
    data1 = [0, 1118, 1231, 1346, 1459, 1573, 1686, 1799, 1913, 2026, 2140, 2254, 2367, 2481, 2594, 2708, 2821, 2934, 3048, 3161, 3276, 3389, 3502, 3616, 3729, 3843, 3956, 4069, 4184, 4297, 4410, 4524, 4637, 4751, 4864, 4977, 5092, 5205, 5319, 5432, 5545, 5659, 5772, 5886, 6000, 6113, 6227, 6340, 6454, 6567, 6680, 6794, 6907, 7022, 7135, 7248, 7362, 7475, 7588, 7702, 7815, 7930, 8043, 8156, 8270, 8383, 8497, 8610, 8723, 8838, 8951]
    hit1 = 0
    TP成长 = 0.1
    TP上限 = 5

    是否有护石 = 1

    形态 = ['爆炸', '散射']

    def 形态变更(self, 形态, char):
        if (形态 == '' or 形态 not in self.形态) and len(self.形态) > 0:
            形态 = self.形态[0]
        if 形态 == "爆炸":
            self.hit0 = 1
            self.hit1 = 0
        if 形态 == "散射":
            self.hit0 = 0
            self.hit1 = 7

    def 装备护石(self, char):
        self.倍率 *= 1.08
        if char.get_skill_by_name("手动式离合器").等级 > 0:
            self.CDR *= 0.72
        else:
            self.CDR *= 0.8
        pass


class 技能14(被动技能):
    名称 = '野外生存'
    所在等级 = 48
    等级上限 = 50
    学习间隔 = 3
    等级精通 = 40

    关联技能 = ['所有']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.025 + 0.02 * self.等级, 5)


class 技能15(主动技能):
    名称 = "旷野火炎"
    所在等级 = 50
    等级上限 = 50
    学习间隔 = 5
    等级精通 = 40
    CD = 145
    MP = [1420, 6378]
    无色消耗 = 5
    data0 = [0, 5239, 6454, 7668, 8883, 10099, 11313, 12528, 13743, 14957, 16172, 17388, 18602, 19817, 21032, 22246, 23462, 24677, 25891, 27106, 28321, 29537, 30751, 31966, 33181, 34395, 35611, 36826, 38040, 39255, 40470, 41684, 42900, 44115, 45329, 46544, 47759, 48975, 50189, 51404, 52619, 53833, 55049, 56264, 57478, 58693, 59908, 61123, 62338, 63553, 64767]
    hit0 = 10
    灼伤data0 = [0, 3229, 3978, 4727, 5476, 6225, 6974, 7722, 8471, 9221, 9969, 10718, 11467, 12216, 12964, 13714, 14463, 15211, 15960, 16709, 17458, 18207, 18956, 19705, 20454, 21202, 21951, 22701, 23449, 24198, 24947, 25696, 26445, 27194, 27943, 28691, 29440, 30189, 30939, 31687, 32436, 33185, 33934, 34682, 35432, 36181, 36929, 37678, 38427, 39176, 39925]
    灼伤hit0 = 8
    灼伤power0 = 0.5

    def 等效百分比(self, **argv):
        return super().等效百分比(**argv) * (1.1 if self.等级 >=6 else 1.0)


class 技能16(猛系技能):
    名称 = "登跃飞锚"
    所在等级 = 60
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 25
    MP = [292, 1313]
    无色消耗 = 1
    data0 = [0, 2083, 2294, 2506, 2717, 2929, 3140, 3351, 3562, 3774, 3986, 4196, 4408, 4619, 4831, 5043, 5253, 5464, 5676, 5888, 6099, 6311, 6521, 6733, 6945, 7156, 7367, 7578, 7790, 8001, 8213, 8424, 8636, 8847, 9058, 9269, 9481, 9693, 9903, 10115, 10326, 10538, 10750, 10960, 11171, 11383, 11595, 11807, 12018, 12228, 12440]
    hit0 = 1
    data1 = [0, 315, 346, 378, 410, 442, 473, 506, 538, 570, 603, 633, 665, 697, 730, 761, 793, 826, 858, 889, 920, 953, 985, 1017, 1048, 1081, 1113, 1144, 1177, 1208, 1240, 1272, 1305, 1336, 1368, 1399, 1432, 1464, 1495, 1528, 1560, 1592, 1623, 1656, 1687, 1719, 1752, 1783, 1815, 1847, 1880]
    hit1 = 12
    data2 = [0, 14583, 16064, 17542, 19023, 20502, 21983, 23461, 24942, 26421, 27900, 29380, 30859, 32339, 33818, 35299, 36778, 38257, 39737, 41217, 42696, 44176, 45656, 47135, 48614, 50094, 51573, 53053, 54533, 56013, 57492, 58971, 60452, 61930, 63411, 64890, 66370, 67849, 69328, 70808, 72287, 73768, 75247, 76727, 78206, 79687, 81165, 82645, 84125, 85604, 87084]
    hit2 = 1
    TP成长 = 0.1
    TP上限 = 5

    是否有护石 = 1

    def 装备护石(self, char):
        self.CD = 12.5
        self.倍率 *= 0.58
        self.power1 = 1.26


class 技能17(猛系技能):
    名称 = "神雾兵仗·妖旋风"
    所在等级 = 70
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 45
    MP = [480, 2153]
    无色消耗 = 2
    data0 = [0, 759, 836, 913, 990, 1066, 1144, 1221, 1298, 1376, 1452, 1529, 1605, 1683, 1760, 1837, 1915, 1992, 2068, 2146, 2222, 2299, 2376, 2453, 2531, 2608, 2685, 2762, 2838, 2915, 2993, 3069, 3147, 3225, 3301, 3378, 3454, 3532, 3609, 3685, 3764, 3841, 3917, 3995, 4071, 4148, 4225, 4302, 4379, 4457, 4534]
    hit0 = 10
    data1 = [0, 3037, 3345, 3652, 3962, 4269, 4578, 4885, 5194, 5502, 5810, 6118, 6426, 6734, 7042, 7351, 7659, 7967, 8275, 8583, 8891, 9200, 9507, 9816, 10123, 10432, 10739, 11049, 11356, 11665, 11972, 12281, 12588, 12898, 13205, 13514, 13821, 14130, 14437, 14747, 15054, 15363, 15670, 15978, 16286, 16595, 16903, 17211, 17519, 17827, 18135]
    hit1 = 10
    TP成长 = 0.1
    TP上限 = 5

    是否有护石 = 1

    def 装备护石(self, char):
        self.灼伤data0 = [i*0.37 for i in self.data0]
        self.灼伤hit0 = self.hit0
        self.灼伤data1 = [i*0.37 for i in self.data1]
        self.灼伤hit1 = self.hit1


class 技能18(猛系技能):
    名称 = "流雾疾风"
    所在等级 = 75
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 40
    MP = [987, 4433]
    无色消耗 = 3
    data0 = [0, 3377, 3719, 4063, 4404, 4747, 5090, 5433, 5776, 6117, 6460, 6803, 7146, 7489, 7831, 8174, 8516, 8859, 9201, 9544, 9887, 10230, 10572, 10914, 11257, 11600, 11943, 12285, 12628, 12970, 13314, 13656, 13998, 14341, 14683, 15027, 15369, 15712, 16054, 16396, 16740, 17081, 17425, 17767, 18111, 18453, 18794, 19138, 19480, 19824, 20165]
    hit0 = 20

    是否有护石 = 1

    def 装备护石(self, char):
        self.hit0 = 10
        self.data1 = self.data0
        self.hit1 = 1
        self.power1 = 13.6 + 4.2


class 技能19(被动技能):
    名称 = '流浪之星的纹章'
    所在等级 = 75
    等级上限 = 50
    学习间隔 = 3
    等级精通 = 40

    关联技能 = ['所有']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.22 + 0.02 * self.等级, 5)


class 技能20(被动技能):
    名称 = '自动操作模式'
    所在等级 = 75
    等级上限 = 1
    学习间隔 = 3
    等级精通 = 1


class 技能21(猛系技能):
    名称 = "装载：烟花漫天"
    所在等级 = 80
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 40
    MP = [1100, 4938]
    无色消耗 = 5
    data0 = [0, 72835, 80224, 87613, 95002, 102392, 109780, 117170, 124559, 131947, 139337, 146725, 154115, 161504, 168893, 176282, 183672, 191060, 198450, 205839, 213228, 220617, 228005, 235395, 242784, 250173, 257562, 264952, 272340, 279730, 287118, 294508, 301897, 309286, 316675, 324065, 331453, 338842, 346232, 353620, 361010, 368398, 375788, 383177, 390566, 397955, 405345, 412733, 420123, 427512, 434901]
    hit0 = 1

    是否有护石 = 1

    def 装备护石(self, char):
        self.data1 = self.data0
        self.hit1 = 4
        self.power1 = 0.08
        self.CDR *= 0.9


class 技能22(主动技能):
    名称 = "神雾兵仗·北极星"
    所在等级 = 85
    等级上限 = 50
    学习间隔 = 5
    等级精通 = 40
    CD = 180
    MP = [2396, 10757]
    无色消耗 = 10
    data0 = [0, 1809, 2228, 2649, 3068, 3487, 3907, 4326, 4746, 5166, 5585, 6005, 6425, 6844, 7264, 7683, 8102, 8523, 8942, 9362, 9781, 10200, 10621, 11040, 11459, 11879, 12299, 12719, 13138, 13557, 13977, 14397, 14816, 15236, 15655, 16075, 16495, 16914, 17334, 17753, 18174, 18593, 19012, 19432, 19851, 20271, 20691, 21110, 21529, 21949, 22369]
    hit0 = 20
    data1 = [0, 180948, 222908, 264866, 306826, 348785, 390745, 432703, 474663, 516622, 558580, 600540, 642498, 684458, 726417, 768376, 810335, 852295, 894254, 936213, 978172, 1020132, 1062090, 1104050, 1146008, 1187968, 1229927, 1271886, 1313845, 1355805, 1397764, 1439722, 1481682, 1523640, 1565600, 1607559, 1649518, 1691477, 1733437, 1775396, 1817355, 1859314, 1901274, 1943232, 1985192, 2027150, 2069110, 2111069, 2153028, 2194987, 2236947]
    hit1 = 1

    形态 = ['满', '秒C']

    def 形态变更(self, 形态, char: Character):
        if (形态 == '' or 形态 not in self.形态) and len(self.形态) > 0:
            形态 = self.形态[0]
        if 形态 == "满":
            self.power0 = 1
            self.hit1 = 1
        if 形态 == "秒C":
            self.power0 = 0
            self.hit1 = 1


class 技能23(被动技能):
    名称 = '星辰装置'
    所在等级 = 95
    等级上限 = 50
    学习间隔 = 3
    等级精通 = 40

    关联技能 = ['所有']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.18 + 0.02 * self.等级, 5)


class 技能24(猛系技能):
    名称 = "装置驱动：星云"
    所在等级 = 95
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 60
    MP = [1398, 6277]
    无色消耗 = 7
    data0 = [0, 28246, 31111, 33977, 36843, 39707, 42573, 45439, 48304, 51170, 54035, 56901, 59767, 62632, 65497, 68363, 71228, 74094, 76960, 79825, 82691, 85557, 88422, 91288, 94153, 97018, 99884, 102749, 105615, 108481, 111346, 114212, 117078, 119942, 122808, 125674, 128539, 131405, 134271, 137136, 140002, 142868, 145732, 148598, 151463, 154329, 157195, 160060, 162926, 165792, 168657]
    hit0 = 1
    data1 = [0, 112984, 124446, 135908, 147370, 158832, 170295, 181756, 193219, 204681, 216143, 227606, 239067, 250530, 261991, 273454, 284917, 296378, 307841, 319302, 330765, 342226, 353689, 365152, 376613, 388076, 399537, 411000, 422462, 433924, 445387, 456848, 468311, 479773, 491235, 502697, 514159, 525622, 537084, 548546, 560008, 571470, 582932, 594394, 605856, 617319, 628781, 640243, 651705, 663167, 674630]
    hit1 = 1


class 技能25(主动技能):
    名称 = "神雾星仗·人马座星云"
    所在等级 = 100
    等级上限 = 50
    学习间隔 = 5
    等级精通 = 40
    CD = 290
    MP = [3944, 17712]
    无色消耗 = 15
    data0 = [0, 141348, 174124, 206900, 239676, 272453, 305229, 338006, 370781, 403558, 436334, 469111, 501887, 534663, 567440, 600216, 632993, 665769, 698546, 731321, 764098, 796874, 829651, 862427, 895203, 927979, 960756, 993532, 1026309, 1059084, 1091861, 1124637, 1157414, 1190191, 1222966, 1255743, 1288519, 1321296, 1354072, 1386849, 1419624, 1452401, 1485177, 1517954, 1550730, 1583506, 1616282, 1649059, 1681835, 1714612, 1747388]
    hit0 = 1
    data1 = [0, 329811, 406290, 482768, 559246, 635724, 712202, 788680, 865158, 941636, 1018114, 1094592, 1171070, 1247549, 1324027, 1400505, 1476983, 1553461, 1629940, 1706418, 1782895, 1859374, 1935851, 2012330, 2088808, 2165286, 2241764, 2318242, 2394720, 2471198, 2547676, 2624155, 2700633, 2777111, 2853589, 2930068, 3006545, 3083024, 3159501, 3235980, 3312458, 3388936, 3465414, 3541892, 3618370, 3694849, 3771326, 3847805, 3924283, 4000760, 4077239]
    hit1 = 1


class classChange(Character):
    def __init__(self, equVersion=""):
        self.实际名称 = 'traveler'
        self.名称 = '聆风·旅人'
        self.角色 = '弓箭手'
        self.角色类型 = '输出'
        self.职业 = '旅人'
        # 用来筛CP武器的
        self.武器选项 = ['玄机弓']
        self.输出类型选项 = ['物理百分比']
        self.防具精通属性 = ['力量']
        self.类型 = '物理百分比'
        self.武器类型 = '玄机弓'
        self.防具类型 = '皮甲'
        技能列表 = []
        技能序号 = {}
        i = 0
        while i >= 0:
            try:
                tem = eval('技能'+str(i)+'()')
                tem.基础等级计算()
                技能序号[tem.名称] = i
                技能列表.append(tem)
                i += 1
            except Exception:
                i = -1
        self.技能栏 = 技能列表
        self.技能序号 = 技能序号
        self.buff = 2.00

        super().__init__(equVersion)
