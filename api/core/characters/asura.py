
from core.basic.skill import 技能
from core.basic.character import Character
from core.basic.skill import 主动技能, 被动技能


class 技能0(主动技能):
    名称 = "波动刻印"
    所在等级 = 15
    等级上限 = 30
    学习间隔 = 3
    等级精通 = 20
    CD = 1
    MP = [126, 1380]
    无色消耗 = 0
    data0 = [0, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87, 87]
    hit0 = 1
    data1 = [0, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172, 172]
    hit1 = 1
    data2 = [0, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259, 259]
    hit2 = 1
    TP成长 = 0.1
    TP上限 = 5

    关联技能 = ['所有']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        elif self.等级 <= 20:
            return round(1.00 + 0.005 * self.等级, 5)
        else:
            return round(1.10 + 0.015 * (self.等级 - 20), 5)


class 技能1(被动技能):
    名称 = '基础精通'
    倍率 = 1.0
    所在等级 = 1
    等级上限 = 200
    学习间隔 = 1
    等级精通 = 110
    # 基础等级 = 等级
    关联技能 = ['波动刻印']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(self.倍率 * (0.463 + 0.089 * self.等级), 5)


class 技能2(主动技能):
    名称 = "地裂·波动剑"
    所在等级 = 15
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 3
    MP = [17, 168]
    无色消耗 = 0
    data0 = [0, 3431, 3779, 4125, 4474, 4822, 5170, 5519, 5866, 6217, 6562, 6911, 7260, 7607, 7956, 8303, 8651, 9000, 9347, 9696, 10043, 10393, 10737, 11087, 11436, 11784, 12131, 12481, 12827, 13176, 13523, 13873, 14220, 14570, 14914, 15264, 15612, 15960, 16309, 16655, 17003, 17351, 17701, 18046, 18397, 18742, 19092, 19440, 19788, 20137, 20486, 20832, 21182, 21528, 21877, 22224, 22574, 22920, 23268, 23616, 23963, 24314, 24661, 25010, 25359, 25704, 26054, 26402, 26749, 27098, 27445]
    hit0 = 1
    TP成长 = 0.1
    TP上限 = 7

    形态 = ["地裂", "光翼"]

    def 等效百分比(self, **argv):
        # 武器类型 额外等级 额外倍率 伤害类型 形态
        武器类型 = argv.get('武器类型', '')
        额外等级 = argv.get('额外等级', 0)
        额外倍率 = argv.get('额外倍率', 1.0)
        伤害类型 = argv.get('伤害类型', '直伤')
        形态 = argv.get('形态', '地裂')
        char = argv.get('char', {})

        if 形态 == "地裂":
            self.CD = 3
            等级 = min(self.等级 + 额外等级, self.等级上限)
            等效倍率 = self.基础百分比(伤害类型, 等级)

            return 等效倍率 * self.TP加成() * self.技攻 * self.倍率 * 额外倍率
        if 形态 == "光翼":
            self.CD = 1.2
            skill = char.get_skill_by_name("暗天波动眼")
            # 额外倍率暂不确定 应该是跟着觉醒走
            return skill.等效百分比(形态=形态, 伤害类型=伤害类型) * self.TP加成() * 额外倍率


class 技能3(主动技能):
    名称 = "鬼印珠"
    所在等级 = 15
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 6
    MP = [95, 980]
    无色消耗 = 0
    data0 = [0, 270, 294, 322, 350, 379, 403, 434, 460, 488, 512, 542, 568, 596, 623, 652, 679, 708, 731, 760, 786, 814, 840, 870, 900, 922, 949, 979, 1008, 1031, 1059, 1089, 1118, 1140, 1170, 1198, 1226, 1251, 1279, 1308, 1337, 1360, 1389, 1415, 1445, 1469, 1497, 1525, 1554, 1576, 1606, 1635, 1662, 1687, 1716, 1744, 1773, 1795, 1826, 1853, 1881, 1906, 1935, 1966, 1991, 2014, 2044, 2073, 2099, 2128, 2152]
    hit0 = 18
    data1 = [0, 1210, 1337, 1456, 1576, 1704, 1826, 1949, 2073, 2198, 2318, 2444, 2565, 2686, 2809, 2934, 3055, 3179, 3302, 3424, 3549, 3672, 3792, 3915, 4038, 4164, 4287, 4409, 4532, 4658, 4779, 4899, 5024, 5147, 5268, 5395, 5516, 5637, 5763, 5884, 6005, 6131, 6254, 6376, 6501, 6623, 6745, 6872, 6993, 7112, 7241, 7362, 7483, 7607, 7730, 7852, 7976, 8100, 8222, 8345, 8468, 8591, 8714, 8835, 8959, 9081, 9206, 9328, 9454, 9573, 9698]
    hit1 = 1
    TP成长 = 0.1
    TP上限 = 7

    # 波动刻印增幅 5印
    倍率 = 1+0.2


class 技能4(主动技能):
    名称 = "邪光斩"
    所在等级 = 20
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 10
    MP = [65, 616]
    无色消耗 = 0
    data0 = [0, 2814, 3101, 3386, 3673, 3956, 4244, 4528, 4813, 5099, 5386, 5671, 5957, 6243, 6529, 6811, 7100, 7384, 7671, 7956, 8239, 8526, 8814, 9099, 9384, 9668, 9956, 10240, 10526, 10813, 11096, 11383, 11668, 11953, 12240, 12525, 12812, 13097, 13382, 13667, 13953, 14240, 14525, 14808, 15095, 15381, 15669, 15953, 16237, 16524, 16809, 17093, 17382, 17665, 17952, 18237, 18525, 18810, 19094, 19379, 19666, 19950, 20238, 20521, 20809, 21094, 21378, 21664, 21950, 22237, 22521]
    hit0 = 3
    TP成长 = 0.1
    TP上限 = 7


class 技能5(被动技能):
    名称 = '修罗邪光斩'
    所在等级 = 20
    等级上限 = 11
    基础等级 = 1
    关联技能 = ['邪光斩']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.45 + 0.05 * self.等级, 5)


class 技能6(主动技能):
    名称 = "波动爆发"
    所在等级 = 25
    等级上限 = 70
    学习间隔 = 3
    等级精通 = 60
    CD = 7.5
    MP = [65, 630]
    无色消耗 = 0
    data0 = [0, 9668, 11209, 12750, 14293, 15834, 17375, 18918, 20459, 22000, 23542, 25083, 26624, 28168, 29710, 31248, 32789, 34332, 35873, 37414, 38959, 40501, 42042, 43583, 45125, 46666, 48208, 49749, 51291, 52834, 54372, 55915, 57457, 58995, 60539, 62082, 63622, 65164, 66706, 68247, 69788, 71331, 72871, 74414, 75956, 77495, 79038, 80578, 82119, 83662, 85203, 86745, 88287, 89827, 91369, 92911, 94453, 95993, 97537, 99078, 100617, 102159, 103701, 105241, 106783, 108327, 109868, 111409, 112952, 114493, 116034]
    hit0 = 1
    TP成长 = 0.1
    TP上限 = 7


class 技能7(被动技能):
    名称 = '挫折意志'
    所在等级 = 25
    等级上限 = 20
    基础等级 = 10

    关联技能 = ['所有']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.13 + 0.02 * self.等级, 5)


class 技能8(主动技能):
    名称 = "冰刃·波动剑"
    所在等级 = 30
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 7
    MP = [27, 308]
    无色消耗 = 0
    data0 = [0, 985, 1085, 1185, 1284, 1383, 1484, 1584, 1685, 1783, 1882, 1985, 2087, 2185, 2284, 2382, 2485, 2588, 2687, 2783, 2886, 2988, 3087, 3184, 3282, 3385, 3485, 3586, 3682, 3784, 3886, 3985, 4083, 4183, 4287, 4386, 4484, 4583, 4684, 4789, 4888, 4984, 5085, 5185, 5287, 5386, 5481, 5584, 5686, 5787, 5883, 5983, 6086, 6187, 6284, 6384, 6482, 6588, 6684, 6785, 6884, 6985, 7085, 7187, 7286, 7384, 7486, 7584, 7687, 7783, 7885]
    hit0 = 9
    TP成长 = 0.1
    TP上限 = 7

    形态 = ["冰刃", "天照"]

    def 等效百分比(self, **argv):
        # 武器类型 额外等级 额外倍率 伤害类型 形态
        武器类型 = argv.get('武器类型', '')
        额外等级 = argv.get('额外等级', 0)
        额外倍率 = argv.get('额外倍率', 1.0)
        伤害类型 = argv.get('伤害类型', '直伤')
        形态 = argv.get('形态', '冰刃')
        char = argv.get('char', {})

        if 形态 == "冰刃":
            self.CD = 3
            等级 = min(self.等级 + 额外等级, self.等级上限)
            等效倍率 = self.基础百分比(伤害类型, 等级)

            return 等效倍率 * self.TP加成() * self.技攻 * self.倍率 * 额外倍率
        if 形态 == "天照":
            self.CD = 2
            skill = char.get_skill_by_name("暗天波动眼")
            # 额外倍率暂不确定 应该是跟着觉醒走
            return skill.等效百分比(形态=形态, 伤害类型=伤害类型) * self.TP加成() * 额外倍率


class 技能9(主动技能):
    名称 = "杀意波动"
    所在等级 = 30
    等级上限 = 20
    学习间隔 = 2
    等级精通 = 10
    CD = 5
    MP = [268, 2935]
    无色消耗 = 0
    data0 = [0, 482, 499, 514, 531, 547, 561, 579, 593, 610, 625, 641, 659, 671, 688, 702, 717, 735, 749, 768, 782]
    hit0 = 2
    TP成长 = 0.1
    TP上限 = 7

    def 等效CD(self,  **argv):
        return 1


class 技能10(主动技能):
    名称 = "爆炎·波动剑"
    所在等级 = 35
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 15
    MP = [130, 1092]
    无色消耗 = 1
    data0 = [0, 6262, 6896, 7532, 8167, 8802, 9436, 10073, 10707, 11342, 11976, 12609, 13249, 13882, 14517, 15151, 15788, 16424, 17058, 17696, 18328, 18964, 19598, 20236, 20871, 21506, 22141, 22777, 23412, 24044, 24683, 25312, 25951, 26585, 27221, 27854, 28493, 29128, 29761, 30397, 31033, 31667, 32302, 32940, 33574, 34208, 34846, 35481, 36116, 36750, 37384, 38019, 38655, 39293, 39924, 40558, 41195, 41829, 42465, 43102, 43736, 44370, 45005, 45641, 46277, 46912, 47549, 48183, 48819, 49452, 50089]
    hit0 = 3
    data1 = [0, 14, 14, 15, 16, 18, 19, 21, 22, 23, 23, 25, 27, 29, 30, 31, 33, 33, 35, 36, 39, 40, 42, 42, 42, 43, 45, 46, 47, 49, 49, 51, 54, 55, 56, 58, 58, 59, 59, 60, 64, 65, 66, 68, 68, 69, 70, 72, 75, 76, 76, 78, 78, 80, 81, 84, 85, 86, 87, 87, 88, 91, 92, 92, 93, 97, 98, 99, 100, 101, 102]
    hit1 = 3
    TP成长 = 0.1
    TP上限 = 5

    形态 = ["爆炎", "闪枪"]

    def 等效百分比(self, **argv):
        # 武器类型 额外等级 额外倍率 伤害类型 形态
        武器类型 = argv.get('武器类型', '')
        额外等级 = argv.get('额外等级', 0)
        额外倍率 = argv.get('额外倍率', 1.0)
        伤害类型 = argv.get('伤害类型', '直伤')
        形态 = argv.get('形态', '爆炎')
        char = argv.get('char', {})

        if 形态 == "爆炎":
            self.CD = 15
            等级 = min(self.等级 + 额外等级, self.等级上限)
            等效倍率 = self.基础百分比(伤害类型, 等级)

            return 等效倍率 * self.TP加成() * self.技攻 * self.倍率 * 额外倍率
        if 形态 == "闪枪":
            self.CD = 4.9
            skill = char.get_skill_by_name("暗天波动眼")
            # 额外倍率暂不确定 应该是跟着觉醒走
            return skill.等效百分比(形态=形态, 伤害类型=伤害类型) * self.TP加成() * 额外倍率


class 技能11(主动技能):
    名称 = "无双波"
    所在等级 = 35
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 20
    MP = [140, 1176]
    无色消耗 = 1
    data0 = [0, 21723, 23928, 26134, 28336, 30539, 32744, 34947, 37150, 39354, 41561, 43764, 45967, 48168, 50378, 52578, 54783, 56989, 59193, 61395, 63600, 65805, 68009, 70212, 72413, 74622, 76821, 79028, 81231, 83438, 85638, 87844, 90050, 92252, 94455, 96662, 98866, 101069, 103271, 105480, 107681, 109882, 112088, 114291, 116496, 118699, 120904, 123107, 125312, 127515, 129724, 131925, 134130, 136330, 138540, 140740, 142946, 145146, 147354, 149555, 151756, 153965, 156168, 158373, 160575, 162781, 164984, 167189, 169391, 171599, 173800]
    hit0 = 1
    TP成长 = 0.1
    TP上限 = 5

    是否有护石 = 1

    def 装备护石(self, char):
        self.倍率 *= 1.36


class 技能12(主动技能):
    名称 = "邪光波动阵"
    所在等级 = 40
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 20
    MP = [180, 1512]
    无色消耗 = 1
    data0 = [0, 2423, 2666, 2914, 3158, 3404, 3651, 3895, 4140, 4386, 4635, 4878, 5124, 5368, 5615, 5861, 6108, 6351, 6597, 6844, 7089, 7336, 7582, 7828, 8072, 8317, 8561, 8809, 9057, 9302, 9547, 9793, 10038, 10284, 10527, 10774, 11021, 11266, 11514, 11759, 12004, 12248, 12496, 12740, 12986, 13231, 13478, 13725, 13971, 14217, 14461, 14707, 14952, 15197, 15443, 15691, 15935, 16180, 16426, 16672, 16918, 17164, 17408, 17656, 17901, 18146, 18393, 18638, 18883, 19130, 19377]
    hit0 = 1
    data1 = [0, 2214, 2436, 2664, 2889, 3111, 3338, 3562, 3786, 4009, 4236, 4457, 4686, 4909, 5135, 5356, 5584, 5810, 6032, 6258, 6482, 6708, 6931, 7157, 7381, 7605, 7831, 8053, 8280, 8503, 8729, 8953, 9180, 9402, 9628, 9851, 10076, 10299, 10525, 10750, 10974, 11200, 11424, 11649, 11873, 12097, 12324, 12545, 12772, 12997, 13222, 13446, 13671, 13895, 14118, 14344, 14570, 14793, 15018, 15243, 15468, 15693, 15917, 16141, 16367, 16589, 16815, 17039, 17265, 17486, 17714]
    hit1 = 7
    data2 = [0, 6297, 6935, 7574, 8212, 8853, 9490, 10130, 10769, 11408, 12048, 12685, 13323, 13962, 14602, 15240, 15879, 16519, 17157, 17795, 18434, 19071, 19711, 20350, 20990, 21628, 22267, 22904, 23544, 24184, 24823, 25462, 26102, 26739, 27377, 28017, 28654, 29295, 29934, 30572, 31211, 31850, 32490, 33126, 33767, 34406, 35045, 35684, 36321, 36960, 37601, 38237, 38878, 39515, 40154, 40793, 41432, 42069, 42708, 43348, 43987, 44627, 45265, 45905, 46544, 47184, 47820, 48460, 49099, 49738, 50375]
    hit2 = 1
    TP成长 = 0.1
    TP上限 = 5

    是否有护石 = 1

    def 装备护石(self, char):
        self.倍率 *= 1.15 + 0.09
        self.CDR *= 0.85 - 0.08


class 技能13(主动技能):
    名称 = "不动明王阵"
    所在等级 = 45
    等级上限 = 70
    学习间隔 = 2
    等级精通 = 60
    CD = 45
    MP = [400, 3360]
    无色消耗 = 2
    data0 = [0, 1944, 2147, 2340, 2540, 2738, 2934, 3129, 3334, 3525, 3723, 3925, 4121, 4315, 4518, 4713, 4910, 5107, 5307, 5503, 5704, 5904, 6097, 6299, 6492, 6693, 6891, 7088, 7282, 7487, 7680, 7877, 8078, 8275, 8470, 8674, 8866, 9064, 9257, 9463, 9655, 9852, 10051, 10250, 10444, 10645, 10840, 11039, 11237, 11435, 11628, 11832, 12031, 12224, 12428, 12622, 12820, 13020, 13218, 13411, 13615, 13810, 14005, 14204, 14405, 14597, 14801, 14993, 15192, 15392, 15587]
    hit0 = 15
    data1 = [0, 14396, 15858, 17319, 18781, 20242, 21698, 23163, 24624, 26082, 27543, 29008, 30465, 31925, 33387, 34850, 36307, 37770, 39230, 40688, 42150, 43613, 45075, 46530, 47994, 49456, 50914, 52375, 53838, 55296, 56758, 58219, 59677, 61140, 62603, 64064, 65520, 66984, 68447, 69903, 71366, 72829, 74284, 75746, 77209, 78672, 80130, 81591, 83052, 84509, 85973, 87435, 88893, 90352, 91816, 93276, 94737, 96197, 97660, 99118, 100580, 102041, 103499, 104962, 106426, 107884, 109343, 110806, 112268, 113724, 115189]
    hit1 = 1
    TP成长 = 0.1
    TP上限 = 5

    # 5印不动增幅
    倍率 = 1 + 0.2
    是否有护石 = 1

    def 装备护石(self, char):
        self.倍率 *= 1+0.16+0.17


class 技能14(被动技能):
    名称 = '心眼'
    所在等级 = 48

    等级上限 = 50
    学习间隔 = 3
    等级精通 = 40

    关联技能 = ['所有']
    关联技能1 = ['地裂·波动剑']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        elif self.等级 <= 16:
            return round(0.99 + 0.04 + 0.015 * self.等级, 5)
        else:
            return round(1.23 + 0.04 + 0.02 * (self.等级 - 16), 5)

    def 加成倍率1(self, 武器类型):
        return self.地波加成() / self.加成倍率(武器类型)

    def 地波加成(self):
        if self.等级 == 0:
            return 1.0
        elif self.等级 <= 16:
            return round(1.105 + 0.04 + 0.015 * self.等级, 5)
        else:
            return round(1.345 + 0.04 + 0.02 * (self.等级 - 16), 5)


class 技能15(主动技能):
    名称 = "暗天波动眼"
    所在等级 = 50
    等级上限 = 50
    学习间隔 = 5
    等级精通 = 40
    CD = 140
    MP = [1500, 12600]
    无色消耗 = 7
    # 最后天眼爆炸
    data0 = [0, 83639, 103035, 122431, 141827, 161221, 180619, 200013, 219408, 238802, 258199, 277593, 296989, 316383, 335778, 355172, 374569, 393961, 413358, 432753, 452150, 471543, 490939, 510334, 529730, 549126, 568520, 587917, 607311, 626706, 646102, 665496, 684892, 704287, 723683, 743078, 762471, 781868, 801261, 820659, 840050, 859447, 878843, 898239, 917632, 937028, 956424, 975818, 995213, 1014609, 1034005]
    hit0 = 1
    # 普通攻击第一击魔法
    data1 = [0, 1521, 1875, 2224, 2580, 2931, 3280, 3635, 3989, 4342, 4694, 5046, 5399, 5750, 6105, 6455, 6809, 7159, 7515, 7868, 8220, 8572, 8924, 9277, 9626, 9984, 10337, 10690, 11042, 11392, 11746, 12098, 12452, 12804, 13159, 13508, 13862, 14216, 14566, 14919, 15270, 15626, 15976, 16331, 16682, 17035, 17386, 17739, 18097, 18446, 18802]
    hit1 = 0
    # 普通攻击第二击魔法
    data2 = [0, 1710, 2107, 2504, 2898, 3296, 3693, 4090, 4488, 4880, 5280, 5677, 6071, 6470, 6870, 7265, 7661, 8057, 8456, 8850, 9245, 9644, 10041, 10438, 10835, 11228, 11627, 12026, 12421, 12818, 13213, 13612, 14007, 14403, 14802, 15199, 15595, 15993, 16386, 16785, 17184, 17577, 17975, 18373, 18769, 19166, 19559, 19957, 20356, 20753, 21150]
    hit2 = 0
    # 普通攻击第三击魔法
    data3 = [0, 1898, 2339, 2781, 3223, 3664, 4103, 4544, 4986, 5427, 5864, 6307, 6748, 7189, 7629, 8069, 8510, 8953, 9392, 9834, 10274, 10715, 11159, 11597, 12038, 12480, 12918, 13360, 13800, 14241, 14684, 15122, 15564, 16005, 16446, 16887, 17328, 17770, 18209, 18649, 19089, 19534, 19973, 20412, 20854, 21295, 21737, 22178, 22615, 23057, 23499]
    hit3 = 0
    # 波动剑 · 刺轮
    data4 = [0, 438, 538, 638, 739, 841, 944, 1043, 1146, 1247, 1348, 1450, 1551, 1652, 1755, 1855, 1955, 2056, 2160, 2261, 2360, 2462, 2566, 2666, 2767, 2870, 2968, 3072, 3173, 3277, 3375, 3475, 3580, 3678, 3780, 3884, 3988, 4084, 4190, 4289, 4389, 4489, 4595, 4696, 4793, 4897, 5002, 5097, 5201, 5304, 5403]
    hit4 = 0
    # 波动剑 · 光翼
    data5 = [0, 3963, 4887, 5806, 6725, 7647, 8568, 9483, 10403, 11325, 12246, 13165, 14082, 15003, 15925, 16844, 17764, 18685, 19601, 20523, 21443, 22363, 23286, 24202, 25121, 26041, 26963, 27883, 28801, 29722, 30642, 31562, 32481, 33399, 34321, 35239, 36161, 37080, 38001, 38920, 39839, 40759, 41680, 42600, 43519, 44439, 45361, 46278, 47196, 48118, 49039]
    hit5 = 0
    # 波动剑 · 天照
    data6 = [0, 973, 1201, 1428, 1652, 1878, 2104, 2329, 2556, 2784, 3008, 3233, 3461, 3686, 3911, 4140, 4364, 4593, 4817, 5041, 5269, 5496, 5718, 5946, 6174, 6397, 6624, 6850, 7078, 7301, 7527, 7753, 7978, 8208, 8432, 8659, 8884, 9112, 9336, 9564, 9789, 10013, 10241, 10464, 10693, 10919, 11147, 11372, 11598, 11825, 12047]
    hit6 = 0
    # 波动剑 · 闪枪
    data7 = [0, 1269, 1563, 1861, 2151, 2447, 2744, 3038, 3333, 3624, 3919, 4215, 4509, 4803, 5098, 5394, 5685, 5982, 6277, 6571, 6864, 7158, 7454, 7747, 8044, 8339, 8634, 8926, 9223, 9514, 9812, 10106, 10402, 10694, 10987, 11283, 11579, 11871, 12167, 12461, 12757, 13048, 13345, 13640, 13935, 14226, 14523, 14816, 15113, 15409, 15700]
    hit7 = 0

    形态 = ["开眼", "平X"]

    def 形态变更(self, 形态, char: Character):
        if 形态 == '' and len(self.形态) > 0:
            形态 = self.形态[0]
        if 形态 == "开眼":
            self.hit0 = 1
            self.hit1 = 0
            self.hit2 = 0
            self.hit3 = 0
            self.hit4 = 0
            self.hit5 = 0
            self.hit6 = 0
            self.hit7 = 0
        if 形态 == "平X":
            self.hit0 = 0
            self.hit1 = 1
            self.hit2 = 1
            self.hit3 = 1
            self.hit4 = 10
            self.hit5 = 0
            self.hit6 = 0
            self.hit7 = 0
        if 形态 == "光翼":
            self.hit0 = 0
            self.hit1 = 0
            self.hit2 = 0
            self.hit3 = 0
            self.hit4 = 0
            self.hit5 = 1
            self.hit6 = 0
            self.hit7 = 0
        if 形态 == "天照":
            self.hit0 = 0
            self.hit1 = 0
            self.hit2 = 0
            self.hit3 = 0
            self.hit4 = 0
            self.hit5 = 0
            self.hit6 = 5
            self.hit7 = 0
        if 形态 == "闪枪":
            self.hit0 = 0
            self.hit1 = 0
            self.hit2 = 0
            self.hit3 = 0
            self.hit4 = 0
            self.hit5 = 0
            self.hit6 = 0
            self.hit7 = 7


class 技能16(主动技能):
    名称 = "极冰·裂波剑"
    所在等级 = 60
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 20
    MP = [400, 1120]
    无色消耗 = 1
    data0 = [0, 2839, 3129, 3416, 3702, 3991, 4281, 4569, 4855, 5143, 5434, 5718, 6010, 6298, 6582, 6873, 7161, 7449, 7734, 8025, 8314, 8600, 8888, 9178, 9468, 9752, 10043, 10332, 10615, 10907, 11194, 11482, 11770, 12058, 12348, 12636, 12924, 13209, 13501, 13790, 14075, 14365, 14650, 14943, 15228, 15517, 15804, 16091, 16382, 16670, 16961]
    hit0 = 3
    data1 = [0, 4212, 4640, 5069, 5496, 5922, 6349, 6777, 7205, 7634, 8063, 8490, 8916, 9344, 9773, 10198, 10626, 11053, 11480, 11910, 12335, 12763, 13191, 13619, 14049, 14474, 14902, 15331, 15758, 16183, 16611, 17038, 17465, 17896, 18324, 18750, 19179, 19605, 20031, 20459, 20890, 21316, 21742, 22168, 22595, 23023, 23449, 23883, 24308, 24737, 25164]
    hit1 = 5
    TP成长 = 0.1
    TP上限 = 5

    是否有护石 = 1

    def 装备护石(self, char):
        self.power0 = 1.53
        self.power1 = 1.24


class 技能17(主动技能):
    名称 = "极炎·裂波剑"
    所在等级 = 70
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 50
    MP = [800, 1680]
    无色消耗 = 2
    data0 = [0, 4048, 4460, 4871, 5281, 5694, 6102, 6513, 6923, 7336, 7747, 8157, 8569, 8977, 9389, 9799, 10211, 10622, 11032, 11445, 11854, 12264, 12674, 13086, 13497, 13908, 14319, 14729, 15140, 15552, 15963, 16372, 16784, 17195, 17605, 18016, 18427, 18837, 19248, 19661, 20071, 20479, 20891, 21303, 21713, 22125, 22535, 22946, 23355, 23768, 24179]
    hit0 = 8
    data1 = [0, 8098, 8919, 9743, 10562, 11384, 12206, 13027, 13851, 14670, 15492, 16314, 17137, 17958, 18778, 19602, 20421, 21243, 22067, 22886, 23708, 24532, 25352, 26174, 26995, 27817, 28639, 29460, 30282, 31102, 31926, 32746, 33567, 34392, 35210, 36034, 36856, 37675, 38498, 39318, 40142, 40962, 41782, 42607, 43427, 44248, 45071, 45892, 46712, 47535, 48358]
    hit1 = 4

    # 灼伤待定
    灼伤data0 = [0, 139, 147, 163, 175, 190, 207, 219, 235, 244, 259, 275, 286, 301, 317, 327, 345, 353, 371, 386, 398, 412, 421, 439, 453, 466, 482, 492, 509, 525, 533, 549, 560, 576, 593, 605, 621, 628, 646, 662, 673, 688, 699, 713, 730, 741, 756, 768, 783, 801, 809]
    灼伤hit0 = 4
    # bug:灼伤实际伤害只有面板的1/28.16
    灼伤power0 = 1/28.16

    TP成长 = 0.1
    TP上限 = 5

    是否有护石 = 1

    def 装备护石(self, char):
        self.hit0 = 0
        self.power1 = 1+1.3+0.28
        self.灼伤hit0 = 4


class 技能18(主动技能):
    名称 = "天雷·波动剑"
    所在等级 = 75
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 40
    MP = [580, 4500]
    无色消耗 = 3
    data0 = [0, 18696, 20590, 22489, 24384, 26280, 28178, 30074, 31975, 33871, 35761, 37658, 39554, 41454, 43353, 45249, 47147, 49041, 50938, 52837, 54730, 56627, 58527, 60420, 62317, 64213, 66112, 68009, 69905, 71804, 73695, 75594, 77491, 79388, 81287, 83184, 85076, 86977, 88870, 90768, 92668, 94563, 96459, 98355, 100253, 102150, 104046, 105944, 107837, 109735, 111633]
    hit0 = 5
    data1 = [0, 23368, 25739, 28111, 30481, 32852, 35224, 37594, 39966, 42335, 44705, 47078, 49448, 51819, 54190, 56562, 58932, 61304, 63674, 66047, 68417, 70787, 73156, 75526, 77899, 80270, 82639, 85011, 87383, 89753, 92124, 94496, 96868, 99236, 101609, 103979, 106349, 108721, 111090, 113463, 115833, 118203, 120576, 122947, 125315, 127687, 130059, 132428, 134801, 137170, 139539]
    hit1 = 1
    感电data0 = [0, 119, 131, 142, 156, 169, 181, 189, 204, 217, 226, 242, 254, 266, 275, 287, 300, 311, 323, 335, 351, 360, 371, 385, 396, 409, 423, 432, 446, 458, 470, 482, 494, 504, 519, 530, 542, 554, 565, 578, 591, 603, 614, 627, 640, 651, 664, 675, 686, 700, 713]
    感电hit0 = 6

    是否有护石 = 1

    def 装备护石(self, char):
        self.hit0 = 0
        self.power1 = 1+4.4+0.8
        self.感电hit0 = 1


class 技能19(主动技能):
    名称 = '雷神之息'
    是否主动 = 0
    所在等级 = 75
    等级上限 = 50
    学习间隔 = 3
    等级精通 = 40

    CD = 2.5
    关联技能 = ['所有']
    感电data0 = [0, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 20, 20, 21, 23, 23, 26, 26, 27, 27, 27, 29, 32, 32, 34, 35, 35, 36, 36, 37, 39, 39, 42, 44, 44, 46, 46, 46, 47, 47, 48, 50, 50, 52, 54, 54, 56, 58, 58]
    感电hit0 = 1

    data0 = [0, 6426, 7449, 8472, 9499, 10523, 11545, 12566, 13595, 14619, 15643, 16666, 17688, 18714, 19737, 20761, 21786, 22812, 23833, 24858, 25882, 26907, 27931, 28955, 29979, 31003, 32029, 33052, 34075, 35101, 36125, 37143, 38170, 39194, 40218, 41242, 42266, 43290, 44316, 45338, 46363, 47388, 48411, 49436, 50460, 51484, 52510, 53531, 54557, 55580, 56605]
    hit0 = 1

    def 等效CD(self,  **argv):
        return 2.5

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.06 + 0.02 * self.等级, 5)

    # def 感电加成(self):
    #     if self.等级 == 0:
    #         return 1.0
    #     else:
    #         return round(1.186+0.002* self.等级,4)


class 技能20(主动技能):
    名称 = "天雷·降魔杵"
    所在等级 = 80
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 45
    MP = [800, 6000]
    无色消耗 = 5
    data0 = [0, 1412, 1555, 1699, 1846, 1985, 2128, 2271, 2416, 2560, 2702, 2846, 2992, 3131, 3273, 3420, 3562, 3705, 3846, 3993, 4136, 4277, 4419, 4565, 4708, 4852, 4996, 5139, 5284, 5424, 5567, 5713, 5855, 5996, 6144, 6284, 6428, 6571, 6715, 6856, 7002, 7144, 7290, 7429, 7573, 7719, 7861, 8005, 8147, 8292, 8436]
    hit0 = 16
    data1 = [0, 17849, 19661, 21472, 23283, 25091, 26907, 28720, 30528, 32337, 34149, 35965, 37772, 39588, 41393, 43206, 45019, 46832, 48638, 50448, 52260, 54077, 55883, 57693, 59506, 61317, 63125, 64939, 66755, 68562, 70369, 72182, 73996, 75807, 77612, 79426, 81236, 83051, 84863, 86671, 88482, 90294, 92111, 93914, 95728, 97540, 99350, 101157, 102972, 104784, 106595]
    hit1 = 1
    data2 = [0, 49917, 54981, 60044, 65116, 70176, 75238, 80301, 85373, 90434, 95498, 100562, 105622, 110694, 115756, 120817, 125881, 130950, 136014, 141076, 146136, 151206, 156269, 161334, 166397, 171464, 176527, 181591, 186654, 191724, 196787, 201849, 206914, 211982, 217044, 222107, 227170, 232232, 237303, 242364, 247426, 252492, 257555, 262623, 267686, 272750, 277812, 282874, 287944, 293006, 298070]
    hit2 = 1
    感电data0 = [0, 62, 65, 74, 78, 85, 89, 96, 104, 110, 114, 120, 129, 133, 140, 147, 151, 159, 165, 169, 178, 183, 190, 195, 201, 206, 215, 219, 226, 230, 238, 242, 251, 256, 263, 269, 272, 281, 288, 290, 301, 305, 310, 317, 324, 327, 337, 341, 347, 355, 359]
    感电hit0 = 16

    形态 = ["终结", "雷针"]

    def 形态变更(self, 形态, char: Character):
        if (形态 == '' or 形态 not in self.形态) and len(self.形态) > 0:
            形态 = self.形态[0]
        if 形态 == "雷针":
            self.hit0 = 3*2
            self.hit1 = 0
            self.hit2 = 0
            self.感电hit0 = 6
        if 形态 == "终结":
            self.hit0 = 8*2
            self.hit1 = 1
            self.hit2 = 1
            self.感电hit0 = 16

    是否有护石 = 1

    def 装备护石(self, char):
        self.power1 = 1.48
        self.power2 = 1.48
        # self.护石加成 *= 1.35628


class 技能21(主动技能):
    名称 = "雷神降世：裁决"
    所在等级 = 85
    等级上限 = 50
    学习间隔 = 5
    等级精通 = 40
    CD = 180
    MP = [1500, 5000]
    无色消耗 = 10
    data0 = [0, 27271, 33604, 39924, 46256, 52577, 58903, 65229, 71553, 77879, 84208, 90529, 96858, 103181, 109515, 115831, 122161, 128482, 134809, 141135, 147458, 153787, 160108, 166436, 172760, 179090, 185410, 191736, 198066, 204392, 210716, 217042, 223363, 229689, 236016, 242348, 248669, 254992, 261322, 267642, 273968, 280298, 286621, 292945, 299273, 305594, 311926, 318249, 324573, 330899, 337226]
    hit0 = 1
    data1 = [0, 49088, 60486, 71862, 83260, 94638, 106026, 117414, 128795, 140182, 151575, 162953, 174344, 185726, 197126, 208496, 219890, 231268, 242654, 254041, 265425, 276817, 288195, 299586, 310968, 322362, 333737, 345126, 356518, 367906, 379288, 390676, 402053, 413440, 424828, 436226, 447603, 458985, 470377, 481755, 493142, 504535, 515918, 527299, 538692, 550068, 561467, 572850, 584233, 595618, 607006]
    hit1 = 5
    感电data0 = [0, 173, 211, 254, 294, 335, 374, 415, 455, 494, 535, 576, 615, 653, 696, 737, 776, 817, 857, 894, 939, 978, 1015, 1056, 1096, 1135, 1178, 1218, 1257, 1297, 1338, 1379, 1420, 1457, 1499, 1539, 1578, 1621, 1658, 1697, 1737, 1780, 1819, 1862, 1900, 1939, 1982, 2022, 2062, 2101, 2139]
    感电hit0 = 25


class 技能22(被动技能):
    名称 = '波动视界：慧眼'
    所在等级 = 95
    等级上限 = 40
    学习间隔 = 3
    等级精通 = 30

    关联技能 = ['所有']

    def 加成倍率(self, 武器类型):
        if self.等级 == 0:
            return 1.0
        else:
            return round(1.18 + 0.02 * self.等级, 5)


class 技能23(主动技能):
    名称 = "波动慧眼：无为法"
    所在等级 = 95
    等级上限 = 50
    学习间隔 = 2
    等级精通 = 40
    CD = 60
    MP = [1067, 8000]
    无色消耗 = 7
    data0 = [0, 12815, 14116, 15414, 16715, 18016, 19314, 20615, 21917, 23214, 24515, 25818, 27116, 28415, 29716, 31016, 32317, 33615, 34915, 36216, 37518, 38817, 40117, 41417, 42716, 44017, 45318, 46617, 47916, 49218, 50518, 51819, 53118, 54417, 55717, 57019, 58318, 59617, 60918, 62218, 63517, 64819, 66119, 67416, 68720, 70019, 71318, 72619, 73920, 75219, 76519]
    hit0 = 5
    data1 = [0, 192229, 211731, 231233, 250734, 270233, 289734, 309239, 328740, 348239, 367740, 387243, 406744, 426246, 445747, 465248, 484750, 504252, 523752, 543254, 562755, 582258, 601761, 621261, 640761, 660262, 679764, 699267, 718768, 738269, 757769, 777271, 796775, 816274, 835777, 855278, 874780, 894281, 913780, 933285, 952788, 972288, 991791, 1011291, 1030792, 1050294, 1069796, 1089297, 1108799, 1128299, 1147801]
    hit1 = 1


class 技能24(主动技能):
    名称 = "波动神诀：万空"
    所在等级 = 100
    等级上限 = 50
    学习间隔 = 5
    等级精通 = 40
    CD = 290
    MP = [4028, 8056]
    无色消耗 = 15
    data0 = [0, 214480, 264214, 313948, 363681, 413416, 463150, 512885, 562619, 612355, 662087, 711823, 761558, 811292, 861024, 910760, 960494, 1010227, 1059964, 1109700, 1159433, 1209168, 1258901, 1308636, 1358370, 1408106, 1457838, 1507573, 1557308, 1607043, 1656776, 1706512, 1756245, 1805979, 1855712, 1905450, 1955182, 2004917, 2054652, 2104386, 2154119, 2203858, 2253590, 2303324, 2353056, 2402790, 2452527, 2502262, 2551996, 2601731, 2651464]
    hit0 = 1
    data1 = [0, 35747, 44036, 52324, 60612, 68901, 77192, 85480, 93770, 102056, 110346, 118637, 126926, 135215, 143502, 151792, 160083, 168373, 176661, 184948, 193238, 201528, 209816, 218107, 226395, 234684, 242971, 251262, 259553, 267839, 276129, 284418, 292704, 300995, 309284, 317575, 325862, 334151, 342443, 350730, 359021, 367310, 375597, 383885, 392176, 400464, 408754, 417043, 425332, 433622, 441909]
    hit1 = 6
    data2 = [0, 107238, 132107, 156973, 181841, 206709, 231575, 256441, 281309, 306175, 331043, 355910, 380777, 405646, 430514, 455380, 480248, 505115, 529981, 554848, 579714, 604583, 629449, 654315, 679185, 704053, 728919, 753787, 778652, 803521, 828386, 853254, 878121, 902989, 927853, 952724, 977593, 1002459, 1027327, 1052191, 1077060, 1101927, 1126793, 1151661, 1176529, 1201395, 1226262, 1251130, 1275998, 1300865, 1325730]
    hit2 = 2
    data3 = [0, 216949, 267258, 317564, 367873, 418178, 468486, 518792, 569100, 619409, 669717, 720023, 770331, 820638, 870946, 921254, 971560, 1021866, 1072175, 1122482, 1172791, 1223100, 1273404, 1323712, 1374018, 1424327, 1474636, 1524941, 1575250, 1625557, 1675864, 1726173, 1776479, 1826787, 1877095, 1927401, 1977708, 2028016, 2078325, 2128632, 2178938, 2229246, 2279553, 2329861, 2380169, 2430477, 2480782, 2531090, 2581398, 2631706, 2682013]
    hit3 = 1


class classChange(Character):
    def __init__(self, equVersion=""):
        self.实际名称 = 'asura'
        self.名称 = '极诣·阿修罗'
        self.角色 = '鬼剑士(男)'
        self.职业 = '阿修罗'
        self.类型 = '输出'

        self.武器选项 = ['太刀', '钝器', '巨剑', '短剑']

        self.输出类型选项 = ['魔法固伤']

        self.防具精通属性 = ['智力']

        self.类型 = '魔法固伤'
        self.武器类型 = '短剑'
        self.防具类型 = '板甲'

        self.buff = 1.59
        技能列表 = []
        技能序号 = {}
        i = 0
        while i >= 0:
            try:
                tem = eval('技能'+str(i)+'()')
                tem.基础等级计算()
                技能序号[tem.名称] = i
                技能列表.append(tem)
                i += 1
            except Exception:
                i = -1
        self.技能栏 = 技能列表
        self.技能序号 = 技能序号

        super().__init__(equVersion)

    # def 职业特殊计算(self):
    #     雷神之息 = self.get_skill_by_name('雷神之息')
    #     self.伤害系数['感电'] *= 雷神之息.感电加成()
    #     self.skills_passive['雷神之息']['info'].append({
    #         "type": "倍率",
    #         "info": [round((雷神之息.感电加成() -1)*100,2), '感电', '无']
    #     })

    def 伤害计算(self):
        额外倍率 = 1.0
        for skill in self.技能队列:
            if skill['名称'] == '暗天波动眼':
                额外倍率 = skill['倍率']
                break
        if 额外倍率 > 1:
            for index in range(0,len(self.技能队列)):
                if self.技能队列[index]['名称'] == '地裂·波动剑' and self.技能队列[index]['形态'] == '光翼':
                    self.技能队列[index]['倍率'] = 额外倍率
                if self.技能队列[index]['名称'] == '冰刃·波动剑' and self.技能队列[index]['形态'] == '天照':
                    self.技能队列[index]['倍率'] = 额外倍率
                if self.技能队列[index]['名称'] == '爆炎·波动剑' and self.技能队列[index]['形态'] == '闪枪':
                    self.技能队列[index]['倍率'] = 额外倍率
        return super().伤害计算()